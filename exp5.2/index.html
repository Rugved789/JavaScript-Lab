<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cart Total Calculator with Discounts & Images</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #f4f7f8;
        margin: 0;
        padding: 20px;
        display: flex;
        justify-content: center;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 8px;
        max-width: 600px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }
      h1 {
        margin-bottom: 25px;
        text-align: center;
        color: #333;
      }
      .items {
        display: flex;
        gap: 20px;
        margin-bottom: 25px;
        justify-content: space-around;
      }
      .item {
        text-align: center;
        flex: 1;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 10px;
        background: #fafafa;
      }
      .item img {
        max-width: 100%;
        max-height: 120px;
        object-fit: contain;
        margin-bottom: 10px;
        border-radius: 6px;
      }
      .item label {
        display: block;
        margin-top: 6px;
        font-weight: 600;
        color: #555;
      }
      .item input[type="number"] {
        width: 70px;
        padding: 6px;
        margin-top: 4px;
        font-size: 16px;
        border-radius: 4px;
        border: 1px solid #ccc;
        text-align: center;
      }
      .discount-codes {
        margin-bottom: 20px;
      }
      .discount-codes label {
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 600;
        margin-bottom: 8px;
        cursor: pointer;
        color: #333;
      }
      button {
        margin-top: 10px;
        width: 100%;
        padding: 12px;
        background: #007bff;
        border: none;
        color: white;
        font-size: 18px;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      button:hover {
        background: #0056b3;
      }
      .result {
        margin-top: 25px;
        background: #e9f7ef;
        padding: 15px;
        border-radius: 6px;
        border: 1px solid #b7dfb3;
        color: #27632a;
        font-weight: 700;
      }
      .discount-info {
        margin-top: 15px;
        font-size: 14px;
        color: #555;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Cart Total Calculator</h1>

      <div class="items">
        <div class="item">
          <img
            src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&w=200&q=80"
            alt="Item 1"
          />
          <div>Item 1 - $20.00</div>
          <label for="qty1">Quantity</label>
          <input type="number" id="qty1" min="0" value="0" />
        </div>

        <div class="item">
          <img
            src="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?auto=format&fit=crop&w=200&q=80"
            alt="Item 2"
          />
          <div>Item 2 - $35.00</div>
          <label for="qty2">Quantity</label>
          <input type="number" id="qty2" min="0" value="0" />
        </div>

        <div class="item">
          <img
            src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=200&q=80"
            alt="Item 3"
          />
          <div>Item 3 - $15.00</div>
          <label for="qty3">Quantity</label>
          <input type="number" id="qty3" min="0" value="0" />
        </div>
      </div>

      <div class="discount-codes">
        <label
          ><input type="checkbox" id="discountSave10" />
          <strong>SAVE10</strong> — 10% off total</label
        >
        <label
          ><input type="checkbox" id="discountBulk15" />
          <strong>BULK15</strong> — 15% off if buying more than 5 items</label
        >
        <label
          ><input type="checkbox" id="discountFreeShip" />
          <strong>FREESHIP</strong> — $5 off flat discount</label
        >
      </div>

      <button onclick="calculateTotal()">Calculate Total</button>

      <div class="result" id="result" style="display: none"></div>
      <div class="discount-info" id="discountInfo"></div>
    </div>

    <script>
      const prices = [20, 35, 15];

      function calculateTotal() {
        const qty1 = parseInt(document.getElementById("qty1").value) || 0;
        const qty2 = parseInt(document.getElementById("qty2").value) || 0;
        const qty3 = parseInt(document.getElementById("qty3").value) || 0;

        const quantities = [qty1, qty2, qty3];

        // Calculate subtotal
        let subtotal = 0;
        let totalItems = 0;
        for (let i = 0; i < prices.length; i++) {
          subtotal += prices[i] * quantities[i];
          totalItems += quantities[i];
        }

        const isSave10 = document.getElementById("discountSave10").checked;
        const isBulk15 = document.getElementById("discountBulk15").checked;
        const isFreeShip = document.getElementById("discountFreeShip").checked;

        let discount = 0;
        let discountMessages = [];

        if (isSave10) {
          discount += subtotal * 0.1;
          discountMessages.push("10% off total (SAVE10)");
        }

        if (isBulk15 && totalItems > 5) {
          discount += subtotal * 0.15;
          discountMessages.push(
            "15% off for buying more than 5 items (BULK15)"
          );
        } else if (isBulk15) {
          discountMessages.push(
            "BULK15 code selected but not enough items (needs > 5)"
          );
        }

        if (isFreeShip) {
          discount += 5;
          discountMessages.push("$5 off flat discount (FREESHIP)");
        }

        if (discount > subtotal) discount = subtotal;

        const total = subtotal - discount;

        const resultDiv = document.getElementById("result");
        const discountInfoDiv = document.getElementById("discountInfo");

        resultDiv.style.display = "block";
        resultDiv.innerHTML = `
        Subtotal: $${subtotal.toFixed(2)}<br />
        Discount: -$${discount.toFixed(2)}<br />
        <strong>Total: $${total.toFixed(2)}</strong>
      `;

        discountInfoDiv.innerHTML =
          discountMessages.length > 0
            ? "Discounts applied:<br> - " + discountMessages.join("<br> - ")
            : "No discounts applied.";
      }
    </script>
  </body>
</html>
